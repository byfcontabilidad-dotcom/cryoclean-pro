<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CryoClean Pro | Plataforma PRO</title>

<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{
--primary:#10b981;
--secondary:#3b82f6;
--dark:#1e293b;
--gray:#64748b;
--success:#10b981;
--danger:#ef4444;
--btc:#f7931a;
--usdt:#26a17b;
}

body{
font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;
background:linear-gradient(135deg,#e0f2fe,#dbeafe,#dcfce7);
min-height:100vh;
color:var(--dark);
}

.container{max-width:1400px;margin:auto;padding:20px}

header{
background:rgba(255,255,255,.96);
backdrop-filter:blur(10px);
padding:15px 0;
position:sticky;top:0;z-index:1000;
box-shadow:0 4px 6px rgba(0,0,0,.05)
}

nav{display:flex;justify-content:space-between;align-items:center;max-width:1400px;margin:auto;padding:0 20px}

.logo{display:flex;align-items:center;gap:12px;font-size:28px;font-weight:bold;color:var(--primary)}

.hero{
background:white;border-radius:24px;padding:80px 40px;
margin:40px 0;text-align:center;
box-shadow:0 20px 60px rgba(0,0,0,.08)
}

.services-grid{
display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));
gap:30px;margin:40px 0
}

.service-card{
background:white;border-radius:20px;padding:35px;
box-shadow:0 10px 40px rgba(0,0,0,.08);
transition:.4s
}
.service-card:hover{transform:translateY(-10px)}

.service-price{
font-size:30px;font-weight:bold;color:var(--primary);margin:10px 0
}

.btn{
padding:12px 28px;border:none;border-radius:12px;
font-weight:600;cursor:pointer;font-size:15px;
transition:.3s
}

.btn-primary{background:linear-gradient(135deg,var(--primary),#22c55e);color:white}
.btn-success{background:var(--success);color:white}
.btn-danger{background:var(--danger);color:white}

.modal{
display:none;position:fixed;inset:0;background:rgba(0,0,0,.7);
z-index:2000;align-items:center;justify-content:center
}
.modal.active{display:flex}

.modal-content{
background:white;border-radius:24px;padding:40px;
width:95%;max-width:650px;max-height:90vh;overflow:auto
}

.form-group{margin-bottom:18px}
.form-group label{font-weight:600;display:block;margin-bottom:6px}
.form-group input,.form-group select{
width:100%;padding:12px;border-radius:10px;border:2px solid #e2e8f0
}

.payment-method{
border:2px solid #e2e8f0;
padding:15px;border-radius:12px;
margin-bottom:10px;cursor:pointer;
display:flex;align-items:center;gap:10px
}
.payment-method.selected{border-color:var(--primary);background:#ecfdf5}

.cart-item{
display:flex;justify-content:space-between;
padding:15px;background:#f8fafc;border-radius:12px;margin-bottom:10px
}
.cart-total{
font-size:26px;font-weight:bold;text-align:right;color:var(--primary)
}

.wallet-box{
background:#f1f5f9;padding:15px;border-radius:12px;
font-size:15px;word-break:break-all
}
</style>
</head>

<body>

<header>
<nav>
<div class="logo">‚ùÑÔ∏è CryoClean PRO</div>
</nav>
</header>

<div class="container">

<section class="hero">
<h1>Limpieza Industrial PRO</h1>
<p>Pagos profesionales con PayPhone y Criptomonedas</p>
</section>

<section>
<h2 style="text-align:center;font-size:36px">Servicios</h2>
<div class="services-grid" id="servicesContainer"></div>
</section>

</div>

<!-- CARRITO -->
<div id="cartModal" class="modal">
<div class="modal-content">
<h2>Carrito</h2>
<div id="cartItems"></div>
<div class="cart-total" id="cartTotal">Total: $0</div>
<button class="btn btn-success" id="btnCheckout" style="width:100%">Continuar</button>
</div>
</div>

<!-- PAGO -->
<div id="paymentModal" class="modal">
<div class="modal-content">
<h2>Selecciona m√©todo de pago</h2>

<div class="payment-method" data-pay="payphone">üí≥ PayPhone</div>
<div class="payment-method" data-pay="transfer">üè¶ Transferencia Bancaria</div>
<div class="payment-method" data-pay="btc">‚Çø Bitcoin</div>
<div class="payment-method" data-pay="usdt">‚ÇÆ USDT</div>

<div id="paymentInfo" style="margin-top:20px"></div>

<button class="btn btn-primary" id="btnConfirmPay" style="width:100%;margin-top:15px">
Confirmar Pago
</button>

</div>
</div>

<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>

<script>
/* ====== CONFIG ====== */
const BTC_WALLET = "TU_WALLET_BTC";
const USDT_WALLET = "TU_WALLET_USDT";

/* ====== FIREBASE ====== */
firebase.initializeApp({
apiKey: "AIzaSyBsPssHAMzBzYrHvdMFqtR31n2E55ovr8A",
authDomain: "cryocleanpro.firebaseapp.com",
projectId: "cryocleanpro"
});
const db = firebase.firestore();

let services=[],cart=[],paymentMethod=null;

/* ====== SERVICIOS ====== */
function loadServices(){
db.collection("servicios").get().then(snap=>{
services=[];
snap.forEach(doc=>services.push({...doc.data(),id:doc.id}));
renderServices();
});
}

function renderServices(){
const cont=document.getElementById("servicesContainer");
cont.innerHTML="";
services.forEach(s=>{
cont.innerHTML+=`
<div class="service-card">
<div style="font-size:55px">${s.icon||"üîß"}</div>
<h3>${s.name}</h3>
<p>${s.description}</p>
<div class="service-price">$${Number(s.price).toFixed(2)}</div>
<button class="btn btn-primary" onclick="addToCart('${s.id}')">Agregar</button>
</div>`;
});
}

/* ====== CARRITO ====== */
function addToCart(id){
const s=services.find(x=>x.id===id);
const e=cart.find(x=>x.id===id);
if(e)e.quantity++;
else cart.push({...s,quantity:1});
renderCart();
document.getElementById("cartModal").classList.add("active");
}

function renderCart(){
const cont=document.getElementById("cartItems");
const totalEl=document.getElementById("cartTotal");
let total=0;
cont.innerHTML="";
cart.forEach(i=>{
let sub=i.price*i.quantity;
total+=sub;
cont.innerHTML+=`
<div class="cart-item">
<div>${i.icon} ${i.name} (x${i.quantity})</div>
<div>$${sub.toFixed(2)}</div>
</div>`;
});
totalEl.textContent=`Total: $${total.toFixed(2)}`;
}

document.getElementById("btnCheckout").onclick=()=>{
document.getElementById("cartModal").classList.remove("active");
document.getElementById("paymentModal").classList.add("active");
};

/* ====== PAGOS ====== */
document.querySelectorAll(".payment-method").forEach(el=>{
el.onclick=()=>{
document.querySelectorAll(".payment-method").forEach(m=>m.classList.remove("selected"));
el.classList.add("selected");
paymentMethod=el.dataset.pay;
renderPaymentInfo();
};
});

function renderPaymentInfo(){
const box=document.getElementById("paymentInfo");
let total=cart.reduce((s,i)=>s+i.price*i.quantity,0);

if(paymentMethod==="btc"){
box.innerHTML=`
<p><strong>Env√≠a exactamente:</strong></p>
<h3 style="color:var(--btc)">$${total.toFixed(2)} en BTC</h3>
<div class="wallet-box">${BTC_WALLET}</div>`;
}

if(paymentMethod==="usdt"){
box.innerHTML=`
<p><strong>Env√≠a exactamente:</strong></p>
<h3 style="color:var(--usdt)">$${total.toFixed(2)} en USDT</h3>
<div class="wallet-box">${USDT_WALLET}</div>`;
}

if(paymentMethod==="transfer"){
box.innerHTML=`
<p><strong>Transferencia bancaria:</strong></p>
<div class="wallet-box">
Banco: Pichincha<br>
Cuenta: 1234567890<br>
Nombre: CryoClean Pro<br>
RUC: 0999999999
</div>`;
}

if(paymentMethod==="payphone"){
box.innerHTML=`
<p><strong>PayPhone:</strong></p>
<p>Se abrir√° ventana segura de pago.</p>`;
}
}

document.getElementById("btnConfirmPay").onclick=()=>{
if(!paymentMethod)return alert("Selecciona m√©todo");
alert("Pago registrado como pendiente. Un operador lo confirmar√°.");
saveOrder();
};

/* ====== GUARDAR ====== */
function saveOrder(){
let total=cart.reduce((s,i)=>s+i.price*i.quantity,0);
db.collection("citas").add({
services:cart,
total,
paymentMethod,
status:"pending_payment",
createdAt:firebase.firestore.FieldValue.serverTimestamp()
});
cart=[];
document.getElementById("paymentModal").classList.remove("active");
alert("Pedido creado correctamente");
}

/* ====== INIT ====== */
loadServices();
</script>

</body>
</html>
